define(["./core","./core/access","./core/camelCase","./data/var/dataPriv","./data/var/dataUser"],function(e,u,c,f,o){"use strict";function i(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:t.test(e)?JSON.parse(e):e)}function d(e,t,n){var a;if(n===undefined&&1===e.nodeType)if(a="data-"+t.replace(s,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(a))){try{n=i(n)}catch(r){}o.set(e,t,n)}else n=undefined;return n}var t=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,s=/[A-Z]/g;return e.extend({hasData:function(e){return o.hasData(e)||f.hasData(e)},data:function(e,t,n){return o.access(e,t,n)},removeData:function(e,t){o.remove(e,t)},_data:function(e,t,n){return f.access(e,t,n)},_removeData:function(e,t){f.remove(e,t)}}),e.fn.extend({data:function(n,e){var t,a,r,i=this[0],s=i&&i.attributes;if(n!==undefined)return"object"==typeof n?this.each(function(){o.set(this,n)}):u(this,function(e){var t;if(i&&e===undefined)return(t=o.get(i,n))!==undefined?t:(t=d(i,n))!==undefined?t:void 0;this.each(function(){o.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(r=o.get(i),1===i.nodeType&&!f.get(i,"hasDataAttrs"))){for(t=s.length;t--;)s[t]&&0===(a=s[t].name).indexOf("data-")&&(a=c(a.slice(5)),d(i,a,r[a]));f.set(i,"hasDataAttrs",!0)}return r},removeData:function(e){return this.each(function(){o.remove(this,e)})}}),e});