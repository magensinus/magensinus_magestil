define(["../core","../var/document","../ajax"],function(n,i){"use strict";n.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return n.globalEval(t),t}}}),n.ajaxPrefilter("script",function(t){t.cache===undefined&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),n.ajaxTransport("script",function(c){var a,e;if(c.crossDomain)return{send:function(t,r){a=n("<script>").prop({charset:c.scriptCharset,src:c.url}).on("load error",e=function(t){a.remove(),e=null,t&&r("error"===t.type?404:200,t.type)}),i.head.appendChild(a[0])},abort:function(){e&&e()}}})});