define(["./core","./core/toType","./var/rcheckableType","./var/isFunction","./core/init","./traversing","./attributes/prop"],function(a,s,r,u){"use strict";function o(n,e,t,i){var r;if(Array.isArray(e))a.each(e,function(e,r){t||c.test(n)?i(n,r):o(n+"["+("object"==typeof r&&null!=r?e:"")+"]",r,t,i)});else if(t||"object"!==s(e))i(n,e);else for(r in e)o(n+"["+r+"]",e[r],t,i)}var c=/\[\]$/,t=/\r?\n/g,n=/^(?:submit|button|image|reset|file)$/i,i=/^(?:input|select|textarea|keygen)/i;return a.param=function(e,r){var n,t=[],i=function(e,r){var n=u(r)?r():r;t[t.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!a.isPlainObject(e))a.each(e,function(){i(this.name,this.value)});else for(n in e)o(n,e[n],r,i);return t.join("&")},a.fn.extend({serialize:function(){return a.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=a.prop(this,"elements");return e?a.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!a(this).is(":disabled")&&i.test(this.nodeName)&&!n.test(e)&&(this.checked||!r.test(e))}).map(function(e,r){var n=a(this).val();return null==n?null:Array.isArray(n)?a.map(n,function(e){return{name:r.name,value:e.replace(t,"\r\n")}}):{name:r.name,value:n.replace(t,"\r\n")}}).get()}}),a});